# 等待时间分布

## 背景介绍

在随机过程中，我们经常关注事件发生之间的等待时间。本实验将通过抛硬币模型来研究稀有事件（硬币正面）出现之间的等待时间分布。

当每秒抛一次硬币，且正面朝上的概率较小（p=0.08）时，正面出现的过程可以看作是一个泊松过程。我们将研究两次正面出现之间的等待时间（即中间出现的反面次数）的概率分布特性。

## 实验目标

1. 理解稀有事件的等待时间分布
2. 掌握随机序列的生成与分析方法
3. 通过可视化和统计分析验证理论分布

## 实验任务

### 任务一：基础实验（1000次抛掷）

1. 生成一个由1（正面）和0（反面）组成的随机序列，表示抛1000次不公平硬币的结果，正面概率为0.08
2. 计算两次正面出现之间的等待时间（即中间出现的反面次数）
3. 绘制等待时间的直方图
4. 使用半对数坐标（y轴为对数坐标）重新绘制直方图
5. 根据图形特征，推测等待时间可能符合的概率分布类型
6. 计算平均等待时间并与理论值比较

### 任务二：大样本实验（1000000次抛掷）

1. 重复任务一的步骤，但将抛硬币次数增加到1000000次
2. 比较大样本与小样本的结果差异
3. 分析样本量对分布拟合程度的影响

## 实验提示

1. 使用`np.random.choice`生成随机序列
2. 使用`np.nonzero`函数找到序列中所有1出现的位置
3. 使用`np.diff`函数计算连续两个正面之间的间隔
4. 注意：对`np.diff`返回的数组可能需要使用`np.flatten()`或`np.ravel()`展平
5. 使用`plt.hist`绘制直方图，对于半对数坐标可以设置`log=True`参数

## 项目结构
- `src/`: 源代码目录
  - `waiting_times.py`: 等待时间分布计算和分析代码
- `tests/`: 测试代码目录
  - `test_waiting_times.py`: 单元测试文件
- `results/`: 实验结果目录
  - `等待时间分布实验报告.md`: 实验报告模板
- `solutions/`: 参考答案目录
  - `waiting_times_solution.py`: 参考实现代码

## 参考资料
《python物理建模初学者指南》第一版第六章6.3.2
